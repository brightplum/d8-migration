(function($) {
    Drupal.theme.prototype.omegaDreamsExampleButton = function(path, title) {
        return $('<a href="' + path + '" title="' + title + '">' + title + "</a>");
    };
    Drupal.behaviors.omegaDreamsBehavior = {
        attach: function(context, settings) {
            $(".some-selector", context).once("foo", function() {
                var $anchor = Drupal.theme("omegaDreamsExampleButton", settings.myExampleLinkPath, settings.myExampleLinkTitle);
                $anchor.appendTo(this);
            });
            new Waypoint({
                element: document.getElementsByClassName("l-page"),
                offset: 100,
                handler: function(direction) {
                    if (direction === "down") {
                        $("body").addClass("header-container-slim");
                    }
                    if (direction === "up") {
                        $("body").removeClass("header-container-slim");
                    }
                }
            });
            $("#search-toggle").click(function(e) {
                $(this).toggleClass("active");
                $("#header-content").toggleClass("showing");
                e.preventDefault();
            });
            $("#slide-menu-button").click(function(e) {
                $(this).toggleClass("open");
                $("body").toggleClass("slide-out-menu-open");
                $("#navigation").toggleClass("open");
                e.preventDefault();
            });
            $("#close-slide-menu-button").click(function(e) {
                $("#navigation").removeClass("open");
                e.preventDefault();
            });
            $(document).keyup(function(e) {
                if (e.keyCode === 27) {
                    $("#slide-menu-button").removeClass("open");
                    $("body").removeClass("slide-out-menu-open");
                    $("#navigation").removeClass("open");
                }
            });
        }
    };
})(jQuery);